{"version":3,"sources":["components/Note/Note.js","components/Footer/Footer.js","components/Footer/Footer.module.css","components/Note/Note.module.css"],"names":["Note","goEditPage","idObj","extractSearchParams","props","location","search","history","push","themeId","noteId","deleteNote","auth","token","prevProps","hljs","highlightAll","prevObjId","this","currentObjId","fetchMarkdown","obj","searchParams","URLSearchParams","key","style","classes","join","renderContent","swhoEdit","notes","fetchedMarkdown","Fragment","errorMessage","isSignIn","className","ShowEdit","onClick","EditButton","DeleteButton","React","Component","connect","state","footer","calsses","Footer","layout","href","module","exports"],"mappings":"oQAWMA,E,4MA0BFC,WAAa,WACT,IAAIC,EAAQ,EAAKC,oBAAoB,EAAKC,MAAMC,SAASC,QACzD,EAAKF,MAAMG,QAAQC,KAAnB,6BAA8CN,EAAMO,QAApD,mBAAsEP,EAAMQ,U,EAGhFC,WAAa,WACT,IAAIT,EAAQ,EAAKC,oBAAoB,EAAKC,MAAMC,SAASC,QACzD,EAAKF,MAAMO,WAAW,EAAKP,MAAMQ,KAAKC,MAAO,EAAKT,MAAMG,QAASL,I,wDA/BrE,SAAmBY,GACfC,IAAKC,eACL,IAAIC,EAAYC,KAAKf,oBAAoBW,EAAUT,SAASC,QACxDa,EAAeD,KAAKf,oBAAoBe,KAAKd,MAAMC,SAASC,QAC5DW,EAAUP,SAAWS,EAAaT,QAClCQ,KAAKd,MAAMgB,cAAcD,K,+BAIjC,WACI,IAAIE,EAAMH,KAAKf,oBAAoBe,KAAKd,MAAMC,SAASC,QACvDY,KAAKd,MAAMgB,cAAcC,K,iCAI7B,SAAoBf,GAChB,IADwB,EAClBgB,EAAe,IAAIC,gBAAgBjB,GACrCe,EAAM,GAFc,cAGRC,GAHQ,IAGxB,2BAA8B,CAAC,IAAtBE,EAAqB,QAC1BH,EAAIG,EAAI,IAAMA,EAAI,IAJE,8BAMxB,OAAOH,I,oBAaX,WACI,IAAII,EAAQ,CAAC,gBAAiBC,IAAQ1B,KAAM,kBAAkB2B,KAAK,KAC/DC,EAAgB,cAAC,IAAD,IAChBC,EAAW,KA2Bf,OA1BIX,KAAKd,MAAM0B,MAAMC,kBACjBH,EACI,eAAC,IAAMI,SAAP,WACI,cAAC,IAAD,UAAWd,KAAKd,MAAM0B,MAAMC,kBAC5B,cAAC,IAAD,QAKRb,KAAKd,MAAM0B,MAAMG,eACjBL,EACI,eAAC,IAAMI,SAAP,WACI,8DACA,4BAAId,KAAKd,MAAM0B,MAAMG,mBAK7Bf,KAAKd,MAAMQ,KAAKsB,WAChBL,EACI,sBAAKM,UAAWT,IAAQU,SAAxB,UACI,wBAAQC,QAASnB,KAAKjB,WAAYkC,UAAWT,IAAQY,WAArD,kBACA,wBAAQD,QAASnB,KAAKP,WAAYwB,UAAWT,IAAQa,aAArD,wBAKR,sBAAKJ,UAAWV,EAAhB,UACKI,EACAD,S,GArEEY,IAAMC,WAmFVC,uBARS,SAACC,GACrB,MAAO,CACHb,MAAOa,EAAMb,MACblB,KAAM+B,EAAM/B,QAKoB,CAAEQ,kBAAeT,gBAA1C+B,CAAwD1C,I,gCC9FvE,4BAae4C,IAVf,SAAgBxC,GACZ,OACI,qBAAK+B,UAAWU,IAAQC,OAAQrB,MAAOrB,EAAM2C,OAA7C,SACI,qBAAIZ,UAAU,gBAAd,8BAAiD,mBAAGA,UAAU,kBAC1D,mBAAGa,KAAK,kCAAR,+B,mBCNhBC,EAAOC,QAAU,CAAC,OAAS,uBAAuB,MAAQ,wB,mBCA1DD,EAAOC,QAAU,CAAC,KAAO,mBAAmB,SAAW,uBAAuB,WAAa,yBAAyB,aAAe","file":"static/js/8.f998cd5c.chunk.js","sourcesContent":["import React from 'react';\r\nimport Markdown from 'markdown-to-jsx';\r\nimport classes from './Note.module.css';\r\nimport hljs from 'highlight.js';\r\nimport NoteLoader from '../UI/NoteLoader/NoteLoader';\r\nimport 'highlight.js/styles/stackoverflow-light.css';\r\nimport Footer from '../Footer/Footer';\r\nimport 'github-markdown-css/github-markdown.css';\r\nimport { connect } from 'react-redux';\r\nimport { fetchMarkdown, deleteNote } from '../../store/actions/note'\r\n\r\nclass Note extends React.Component {\r\n\r\n    componentDidUpdate(prevProps) {\r\n        hljs.highlightAll();\r\n        let prevObjId = this.extractSearchParams(prevProps.location.search);\r\n        let currentObjId = this.extractSearchParams(this.props.location.search);\r\n        if (prevObjId.noteId !== currentObjId.noteId) {\r\n            this.props.fetchMarkdown(currentObjId)\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        let obj = this.extractSearchParams(this.props.location.search)\r\n        this.props.fetchMarkdown(obj);\r\n    }\r\n\r\n\r\n    extractSearchParams(search) {\r\n        const searchParams = new URLSearchParams(search);\r\n        let obj = {}\r\n        for (let key of searchParams) {\r\n            obj[key[0]] = key[1]\r\n        };\r\n        return obj\r\n    }\r\n\r\n    goEditPage = () => {\r\n        let idObj = this.extractSearchParams(this.props.location.search);\r\n        this.props.history.push(`/note/edit?themeId=${idObj.themeId}&noteId=${idObj.noteId}`)\r\n    }\r\n\r\n    deleteNote = () => {\r\n        let idObj = this.extractSearchParams(this.props.location.search);\r\n        this.props.deleteNote(this.props.auth.token, this.props.history, idObj)\r\n    }\r\n\r\n    render() {\r\n        let style = ['markdown-body', classes.Note, 'Main-Container'].join(' ');\r\n        let renderContent = <NoteLoader />;\r\n        let swhoEdit = null;\r\n        if (this.props.notes.fetchedMarkdown) {\r\n            renderContent = (\r\n                <React.Fragment>\r\n                    <Markdown>{this.props.notes.fetchedMarkdown}</Markdown>\r\n                    <Footer />\r\n                </React.Fragment>\r\n            )\r\n        }\r\n\r\n        if (this.props.notes.errorMessage) {\r\n            renderContent = (\r\n                <React.Fragment>\r\n                    <h2>Sorry! Something Went Wrong~</h2>\r\n                    <p>{this.props.notes.errorMessage}</p>\r\n                </React.Fragment>\r\n            )\r\n        }\r\n\r\n        if (this.props.auth.isSignIn) {\r\n            swhoEdit = (\r\n                <div className={classes.ShowEdit}>\r\n                    <button onClick={this.goEditPage} className={classes.EditButton}>Edit</button>\r\n                    <button onClick={this.deleteNote} className={classes.DeleteButton}>Delete</button>\r\n                </div>\r\n            )\r\n        }\r\n        return (\r\n            <div className={style}>\r\n                {swhoEdit}\r\n                {renderContent}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        notes: state.notes,\r\n        auth: state.auth\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, { fetchMarkdown, deleteNote })(Note)\r\n","import calsses from  './Footer.module.css';\r\n\r\n\r\nfunction footer(props) {\r\n    return (\r\n        <div className={calsses.Footer} style={props.layout} >\r\n            <h3 className=\"footer__title\">&copy; Designed by <i className=\"fab fa-github\"></i>\r\n                <a href=\"https://github.com/ChiuWeiChung\"> Rick Chiu</a>\r\n            </h3>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default footer","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Footer\":\"Footer_Footer__3JAe4\",\"Utils\":\"Footer_Utils__3UzQ2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Note\":\"Note_Note__2x-pA\",\"ShowEdit\":\"Note_ShowEdit__2cvNz\",\"EditButton\":\"Note_EditButton__35J6a\",\"DeleteButton\":\"Note_DeleteButton__3sVQg\"};"],"sourceRoot":""}