{"version":3,"sources":["components/Home/Home.module.css","components/Pagination/Pagination.module.css","components/Home/Inset/Inset.module.css","components/Pagination/Pagination.js","components/Home/Inset/Inset.js","components/Home/Home.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js"],"names":["module","exports","Pagination","props","className","classes","concat","num","pagesNum","Math","ceil","itemLength","numPerPage","leftButton","onClick","gotoPage","style","margin","rightButton","showPagination","currentPage","Inset","Item","href","target","rel","Description","connect","state","allNotes","notes","themes","forEach","theme","noteCollection","note","themeType","name","push","sort","a","b","Date","updatedDate","errorMessage","isSignIn","auth","useState","setCurrentPage","homeRef","useRef","useEffect","current","scrollTo","searchParams","URLSearchParams","history","location","search","obj","key","page","toString","Number","pageNum","replace","Home","join","ref","length","Loader","slicedNotes","slice","Container","Header","MainTitle","to","map","el","themeId","noteId","_id","Subject","marginRight","toLocaleDateString","Title","title","Desc","description","substring","renderNotes","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","i","F","s","n","done","value","e","_e","f","TypeError","err","normalCompletion","didErr","step","next","_e2"],"mappings":"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","file":"static/js/6.1841c203.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Home\":\"Home_Home__f2SD4\",\"Container\":\"Home_Container__3-v5L\",\"Header\":\"Home_Header__2aqls\",\"Subject\":\"Home_Subject__1kq-9\",\"Title\":\"Home_Title__1AWsY\",\"Date\":\"Home_Date__3HxSS\",\"Desc\":\"Home_Desc__2Pomq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Pagination\":\"Pagination_Pagination__1qx5L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Inset\":\"Inset_Inset__gL_TG\",\"Item\":\"Inset_Item__1dp8X\",\"Description\":\"Inset_Description__FeLJR\"};","import React from 'react';\r\nimport classes from './Pagination.module.css';\r\nimport Aux from '../../hoc/Auxiliary';\r\n\r\nconst Pagination = (props) => {\r\n    const showPagination = (num) => {\r\n        const pagesNum = Math.ceil(props.itemLength / props.numPerPage);\r\n        const leftButton = num === 1 ? null : (\r\n            <div onClick={() => props.gotoPage(num - 1)}>\r\n                <i style={{margin:'5px'}} className=\"fas fa-arrow-circle-left\">  </i>\r\n                Page {num - 1}\r\n            </div>\r\n        )\r\n        const rightButton = num === pagesNum ? null : (\r\n            <div onClick={() => props.gotoPage(num + 1)}>\r\n                Page {num + 1}\r\n                <i style={{margin:'5px'}} className=\"fas fa-arrow-circle-right\">  </i>\r\n            </div>\r\n        )\r\n        return (\r\n            <Aux>\r\n                {leftButton}\r\n                {rightButton}\r\n            </Aux>\r\n        )\r\n    }\r\n\r\n\r\n    return (\r\n        <div className={classes.Pagination.concat(' my-2 ')}>\r\n            {showPagination(props.currentPage)}\r\n        </div>\r\n    )\r\n}\r\nexport default Pagination","import classes from './Inset.module.css';\r\n\r\nconst Inset = () => {\r\n    return (\r\n        <div className={classes.Inset}>\r\n            <div className={classes.Item}>\r\n                <i className=\"fab fa-github\"></i>\r\n                <a href=\"https://github.com/ChiuWeiChung\" target=\"_blank\" rel=\"noopener noreferrer\"> Rick Chiu</a>\r\n            </div>\r\n            <div className={classes.Item}>\r\n                <i className=\"fas fa-map-marker-alt\"></i>\r\n                <p> Taiwan, Taipei</p>\r\n            </div>\r\n            <div className={classes.Item}>\r\n                <p className={classes.Description}>唯有努力才能毫不費力，即使每天努力一點點... 在這裡紀錄學習筆記和開發心得 </p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Inset","import React, { useState, useEffect,useRef } from 'react';\r\nimport classes from './Home.module.css';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport Pagination from '../Pagination/Pagination';\r\nimport Loader from '../UI/Loader/Loader';\r\nimport Inset from './Inset/Inset';\r\n\r\nconst numPerPage = 5;\r\n\r\nconst Home = (props) => {\r\n\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const homeRef =useRef(null)\r\n    useEffect(() => {\r\n        homeRef.current.scrollTo(0,0);\r\n        const searchParams = new URLSearchParams(props.history.location.search);\r\n        let obj = {}\r\n        for (let key of searchParams) {\r\n            obj[key[0]] = key[1]\r\n        };\r\n        if (obj.page) {\r\n            if (currentPage.toString() !== obj.page) setCurrentPage(Number(obj.page));\r\n        } else {\r\n            setCurrentPage(1)\r\n        }\r\n    }, [currentPage, props.history.location.search])\r\n\r\n    const goToNote = (themeId, noteId) => {\r\n        props.history.push(`/note?themeId=${themeId}&noteId=${noteId}`)\r\n    }\r\n\r\n    const gotoPage = (pageNum) => {\r\n        setCurrentPage(pageNum);\r\n        props.history.replace(`/?page=${pageNum}`)\r\n    }\r\n\r\n    const renderNotes = () => {\r\n        if (!props.notes.length && !props.errorMessage) return <Loader />\r\n        if (!props.notes.length && props.errorMessage) return <h2>{props.errorMessage}</h2>\r\n        const slicedNotes = props.notes.slice((currentPage - 1) * numPerPage, currentPage * numPerPage);\r\n        return (\r\n            <div className={classes.Container}>\r\n                <header className={classes.Header}>\r\n                    <h1 className={classes.MainTitle}>近期發布</h1>\r\n                    {props.isSignIn && (<Link to={'/note/new'}><i className=\"fas fa-plus-circle\"></i></Link>)}\r\n                </header>\r\n                {slicedNotes.map(el => {\r\n                    return (\r\n                        <div onClick={() => goToNote(el.themeId, el._id)} className={classes.Subject} key={el._id} >\r\n                            <div className={classes.Date}>\r\n                                <span style={{ marginRight: '1rem' }}>\r\n                                    <i className=\"far fa-calendar-alt\">\r\n                                    </i> {new Date(el.updatedDate).toLocaleDateString()}\r\n                                </span>\r\n                                <span>\r\n                                    <i className=\"far fa-sticky-note\">\r\n                                    </i> {el.themeType}\r\n                                </span>\r\n                            </div>\r\n\r\n                            <div className={classes.Title} >{el.title}</div>\r\n                            <div className={classes.Desc}>{el.description.substring(0, 120) + '...'}</div>\r\n                        </div>\r\n                    )\r\n                })}\r\n                <Pagination gotoPage={gotoPage} itemLength={props.notes.length} numPerPage={numPerPage} currentPage={currentPage} />\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className={[classes.Home, 'Main-Container'].join(' ')} ref={homeRef}>\r\n            <Inset/>\r\n            {renderNotes()}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    let allNotes = [];\r\n    const copyThemes = [...state.notes.themes];\r\n    copyThemes.forEach(theme => {\r\n        theme.noteCollection.forEach(note => {\r\n            note.themeType = theme.name\r\n        });\r\n        allNotes.push(...theme.noteCollection);\r\n    });\r\n    allNotes.sort((a, b) => {\r\n        return new Date(b.updatedDate) - new Date(a.updatedDate)\r\n    });\r\n    return {\r\n        notes: allNotes,\r\n        errorMessage: state.notes.errorMessage,\r\n        isSignIn: state.auth.isSignIn\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Home)\r\n","import unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}"],"sourceRoot":""}